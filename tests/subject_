#!/bin/bash
# tests/subject_tests.sh
# Script de prueba completo para Minishell (subject)

echo "=== TEST 1: echo simple ==="
echo hola

echo "=== TEST 2: echo -n ==="
echo -n sin salto
echo " <- aquí no debe haber salto de línea"

echo "=== TEST 3: pwd ==="
pwd

echo "=== TEST 4: cd relativa y absoluta ==="
echo "Directorio actual:"
pwd
cd ..
echo "Después de cd ..:"
pwd
cd "$(pwd)"  # volver al directorio actual para seguir tests

echo "=== TEST 5: export y env ==="
export MYVAR=42
echo $MYVAR
env | grep MYVAR

echo "=== TEST 6: unset ==="
unset MYVAR
echo $MYVAR
env | grep MYVAR

echo "=== TEST 7: redirecciones > y >> ==="
echo primera linea > temp.txt
echo segunda linea >> temp.txt
cat temp.txt

echo "=== TEST 8: input redirection < ==="
cat < temp.txt

echo "=== TEST 9: pipes | ==="
echo "hola mundo" | tr a-z A-Z | tr ' ' '_'

echo "=== TEST 10: $? después de comando exitoso ==="
echo "hola"
echo $?

echo "=== TEST 11: $? después de comando fallido ==="
false
echo $?

echo "=== TEST 12: combinación pipes + redirecciones ==="
echo -e "uno\ndos\ntres" | grep "dos" > temp2.txt
cat temp2.txt

echo "=== TEST 13: control de señales (Ctrl-C y Ctrl-D) ==="
echo "Para esta prueba, presiona Ctrl-C o Ctrl-D en la minishell si estás en modo interactivo."

# Limpiar archivos temporales
rm -f temp.txt temp2.txt

